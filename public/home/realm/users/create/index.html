<div layout="row" class="layout layout-row" id="goriguard-dialog">

  <div id="goriguard-content-dialog" class="createUser">
    <md-dialog ng-cloak>
    <form name="createUser"> 
      <md-toolbar class="md-accent">
        <div class="md-toolbar-tools">
          <div class="panel-icon" flex="20"><i class="fa fa-magic"></i></div>
          <h3 class="md-title">New User</h3>
        </div>
      </md-toolbar>
      <div layout="column" id="create-user" class="md-inline-form">        
        <div class="create-user-panel" layout="row" layout-align="center center">
          <div flex="80">
            <div class="panel-inputs" flex>
              <md-input-container class="md-block">
                <div class="md-body-2">Firstname</div>
                <input ng-model="user.firstname" type="text" name="firstname">
              </md-input-container>
              <md-input-container class="md-block">
                <div class="md-body-2">Lastname</div>
                <input ng-model="user.lastname" type="text" name="lastname">
              </md-input-container>
            </div>
            <div class="panel-inputs" flex>
              <md-input-container class="md-block">
                <div class="md-body-2">Email (username)</div>
                <input ng-model="user.email" type="email" name="text">
              </md-input-container>
              <md-input-container class="md-block">
                <div class="md-body-2">Password</div>
                <input ng-model="user.password" type="password" name="password">
              </md-input-container>
            </div>
            
            <div class="panel-inputs" flex>
              <md-input-container class="md-block">
                <div class="md-body-2">Add role</div>
                <md-select ng-model="selected.role" md-on-close="addRole()">
                  <md-option ng-repeat="role in roles" value="{{role._source.name}}">
                    {{role._source.name}}
                  </md-option>
                </md-select>
              </md-input-container>
              <md-input-container ng-if="user.roles.length > 0">
                <md-chips class="custom-chips" ng-if="user.roles" ng-model="user.roles" readonly="false">
                  <md-chip-template>
                    <strong>{{$chip}}</strong>
                  </md-chip-template>
                  <button md-chip-remove class="md-primary">
                    <md-icon md-svg-icon="md-close"></md-icon>
                  </button>
                </md-chips>
              </md-input-container>
            </div>

          </div> 
        </div>

        <md-dialog-actions layout="row">
          <md-button ng-click="cancelUserCreation($event)">Cancel</md-button>
          <md-button class="md-primary" ng-click="saveUser()">Save</md-button>
        </md-dialog-actions>

      </div>

    </form>
    </md-dialog>
  </div>

</div>